<app-topbar></app-topbar>

<div>
  <p-tabMenu
    [model]="items"
    [activeItem]="activeItem"
    (activeItemChange)="onActiveItemChange($event)"
  >
    <ng-template pTemplate="item" let-item let-i="index">
      <span class="px-3 py-1 ml-2">
        {{ item.title | titlecase }}
      </span>
    </ng-template>
  </p-tabMenu>

  <div class="mt-3">
    <oms-screen-filter
      (dateFilterChange)="dateFilterChange($event)"
      (searchValue)="searchValue($event)"
    >
    </oms-screen-filter>
  </div>

  <div class="mt-3">
    <oms-table
      (pagingInfo)="onPageChange($event)"
      [table]="table"
      [contentRef]="contentRef"
    >
      <ng-template #contentRef let-rowData>
        <tr>
          <td>
            <div class="flex gap-2 items-center">
              <div class="w-10 h-10 rounded-md">
                <img class="object-cover" [src]="rowData.image" alt="" />
              </div>

              <span>{{ rowData.name }}</span>
            </div>
          </td>

          <td class="!text-right">{{ rowData.numberOrders | number }}</td>

          <td class="!text-right">{{ rowData.value | number }}</td>

          <td>
            <div class="flex item-center gap-5 justify-center">
              <span class="hidden lg:block min-w-[70px]">
                <i
                  class="pi pi-circle-fill text-success"
                  *ngIf="rowData.status === 'ACTIVE'; else dangerIcon"
                ></i>

                <ng-template #dangerIcon>
                  <i class="pi pi-circle-fill text-danger"></i>
                </ng-template>
                {{ rowData.status | titlecase }}
              </span>
              <p-inputSwitch class="opacity-100 flex-1"></p-inputSwitch>
            </div>
          </td>

          <td class="!text-center">{{ rowData.createdAt }}</td>

          <td class="!text-center">{{ rowData.updatedAt }}</td>
        </tr>
      </ng-template>
    </oms-table>
  </div>
</div>
